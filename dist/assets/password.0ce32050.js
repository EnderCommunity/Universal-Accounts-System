import{h as x,a as _,l as h,n as w,o as C,c as n,i as b,u as I,B as y,t as d,q as B,v as T}from"./index.7d913f48.js";import{T as N}from"./Title.a581f7e6.js";import{I as g,N as $,s as l}from"./Notice.ec895466.js";import{M as k,F as M}from"./FlexContainer.bd502b48.js";import{C as S}from"./CheckBox.e29085bf.js";import{c as A,I as D,B as P,n as F,r as v}from"./register.c09b45c5.js";const U=d("<h1>Choose a password!</h1>"),z=d("<br>"),H=d("<h3>Choose a <!> for your account!</h3>"),R=d('<input id="username-hidden" type="username" style="display: none;" value="TestUsername">');function j(f){let p=x(),r,u,s,i,c,m=()=>{s.children[0].children[0].value="",i.children[0].children[0].value="",c.value=""};return _(()=>{r=A(u,"password","password_confirm"),c.value=h.username,w(2,function(e){e?v(p):f.pageLoaded()})}),C(()=>{f.pageUnloading()}),[n(N,{children:"Sign Up"}),U.cloneNode(!0),z.cloneNode(!0),(()=>{const e=H.cloneNode(!0),t=e.firstChild,a=t.nextSibling;return a.nextSibling,b(e,n(k,{children:"secure password"}),a),e})(),n(M,{space:"around",style:{width:"400px"},get children(){return[(()=>{const e=R.cloneNode(!0),t=c;return typeof t=="function"?I(t,e):c=e,e})(),n(D,{get children(){return[n(g,{ref(e){const t=s;typeof t=="function"?t(e):s=e},id:"password",type:"password",label:"Password",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(g,{ref(e){const t=i;typeof t=="function"?t(e):i=e},id:"password_confirm",type:"password",label:"Confirmation",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(S,{id:"showPassword",label:"Show password",style:{margin:"8px","margin-right":"auto"},checked:!1,onActive:function(){document.getElementById("password").type="text",document.getElementById("password_confirm").type="text"},onInactive:function(){document.getElementById("password").type="password",document.getElementById("password_confirm").type="password"}})]}}),n($,{children:"The password must be at least 10 characters long, with a mix of letters and numbers! (Note that it's recommended to mix in a few special characters)"}),n(P,{get children(){return[n(y,{type:"action",function:function(){m(),setTimeout(function(){history.back()},1)},children:"Go back"}),n(y,{ref(e){const t=u;typeof t=="function"?t(e):u=e},type:"action",function:function(){F(u,function(e,t){let a=s.children[0].children[0],o=i.children[0].children[0];a.value.length<10||a.value.length>128?(l(s,!1,"Must be from 10 up to 128 characters long!"),o.value="",setTimeout(r,1),e()):!/[a-zA-Z]/.test(a.value)&&!/[0-9]/.test(a.value)?(l(s,!1,"Must contain letters and numbers!"),o.value="",setTimeout(r,1),e()):/[a-zA-Z]/.test(a.value)?/[0-9]/.test(a.value)?o.value!=a.value&&(l(i,!1,"Does not match the password!"),o.value="",setTimeout(r,1),o.focus(),e()):(l(s,!1,"Must contain at least one number!"),o.value="",setTimeout(r,1),e()):(l(s,!1,"Must contain at least one letter!"),o.value="",setTimeout(r,1),e()),B(function(){t()})},function(){h.passwordHash=T(s.children[0].children[0].value),w(3,function(e){e?(m(),setTimeout(function(){v(p)},1)):p("/user/register/personal")})})},primary:!0,children:"Next"})]}})]}})]}export{j as default};
