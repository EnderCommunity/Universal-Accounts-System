import{r as Q,c as s,u as T,i as m,F as j,a as F,b as g,s as w,o as B,t as h,k as O}from"./index.9b46f30d.js";import{T as R}from"./Title.a581f7e6.js";import{B as v,g as c,M as I,F as S}from"./FlexContainer.9781a1b4.js";import{I as C,N as M,s as P}from"./Notice.f53602c1.js";const z=h("<div><div><div><text></text><text></text></div><div></div></div></div>");function N(t,n,r=!1){n?(t.style.display=null,document.documentElement.style.overflow="hidden",[document.getElementById("local-content").children[1],document.getElementById("global-bar"),document.getElementById("global-footer")].forEach(o=>o.setAttribute("inert",""))):(document.documentElement.style.overflow=null,[document.getElementById("local-content").children[1],document.getElementById("global-bar"),document.getElementById("global-footer")].forEach(o=>o.removeAttribute("inert")),r?t.remove():t.style.display="none")}function L(t,n,r){Q(()=>s(U,{title:t,description:n,actions:r,show:!0}),document.body)}function U(t){let n=(()=>{const r=z.cloneNode(!0),o=r.firstChild,a=o.firstChild,e=a.firstChild,i=e.nextSibling,u=a.nextSibling,f=t.ref;return typeof f=="function"?T(f,r):t.ref=r,m(e,()=>t.title),m(i,()=>t.description),m(u,s(j,{get each(){return t.actions},children:l=>(console.log(l),s(v,{get class(){return c.actionButton},type:"action",function:function(){l[1](n,function(){N(n,!1,!0)})},light:!0,get children(){return l[0]}}))})),F(l=>{const p=c.dialogContainer,b=c.dialogBox,_=c.dialogText,$=c.dialogTitle,x=c.dialogDescription,E=c.dialogContent;return p!==l._v$&&g(r,l._v$=p),b!==l._v$2&&g(o,l._v$2=b),_!==l._v$3&&g(a,l._v$3=_),$!==l._v$4&&w(e,"class",l._v$4=$),x!==l._v$5&&w(i,"class",l._v$5=x),E!==l._v$6&&g(u,l._v$6=E),l},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})();return B(()=>{N(n,t.show)}),n}function ie(t){if(typeof CryptoJS!="object"){let n=document.createElement("script");n.onload=t,n.src="/libraries/aes.js",document.head.appendChild(n)}else t()}function re(t){return CryptoJS.MD5(t).toString()}function D(){return{name:{first:void 0,last:void 0},username:void 0,passwordHash:void 0,birthdate:{day:void 0,month:void 0,year:void 0},gender:void 0,pronounce:void 0,securityQuestions:{q1:void 0,q2:void 0,q3:void 0,a1:void 0,a2:void 0,a3:void 0},quickSettings:{}}}let d=D();function H(){d=D()}var y={1:["name.first","name.last"],2:["username"],3:["passwordHash"],4:["birthdate.day","birthdate.month","birthdate.year","gender","pronounce"],5:["securityQuestions.q1","securityQuestions.q2","securityQuestions.q3","securityQuestions.a1","securityQuestions.a2","securityQuestions.a3"]},J=Object.keys(y).length;function oe(t,n){if(console.log(d),t<1||t>J)throw new Error("Incorrect section ID!");let r=!1;for(var o in y)o=Number(o),o<=t&&y[Number(o)].forEach(a=>{a=a.split(".").reverse();let e=d[a.pop()];a.forEach(function(i){e=e[i]}),!r&&e==null&&(r=!0,n(!0))});r||n(!1)}const Z=h("<div></div>"),G=h("<h1>Create a Ciel account</h1>"),K=h("<br>"),V=h("<h3>Enter your <!> and <!>!</h3>");function q(t){return(()=>{const n=Z.cloneNode(!0);return n.style.setProperty("width","100%"),n.style.setProperty("position","relative"),n.style.setProperty("overflow","hidden"),m(n,()=>t.children),n})()}function A(t,...n){let r=[],o=[];t.setAttribute("disabled","");function a(){t.removeAttribute("disabled");for(let e=0;e<r.length;e++)if(r[e].value.replace(/\s/gi,"")==""){t.setAttribute("disabled","");break}for(let e=0;e<o.length;e++)if(o[e].selectedIndex<1){t.setAttribute("disabled","");break}}return n.forEach(function(e){let i=document.getElementById(e);if(i.tagName=="INPUT")r.push(i),i.oninput=a;else if(i.tagName=="SELECT")o.push(i),i.addEventListener("change",a);else throw new Error("Unexpected element!")}),a(),a}function k(t,n,r){let o=document.getElementById("local-content");t.setAttribute("disabled",""),o.dataset.processing=!0;let a=[!1],e=!1,i=function(){e||(e=!0,t.removeAttribute("disabled"),o.dataset.processing=!1,a[0]||r())};n(function(){a[0]=!0,i()},i,a)}function W(t){L("Something went wrong!","It looks like some of your registration data is missing!",[["Refill info",function(n,r){H(),t("/user/register"),r()}]])}function X(t){let n=O(),r,o,a;return B(()=>{d.name.first!=null&&(o.children[0].children[0].value=d.name.first),d.name.last!=null&&(a.children[0].children[0].value=d.name.last),A(r,"first_name","last_name")}),t.report(),[s(R,{children:"Sign Up"}),G.cloneNode(!0),K.cloneNode(!0),(()=>{const e=V.cloneNode(!0),i=e.firstChild,u=i.nextSibling,f=u.nextSibling,l=f.nextSibling;return l.nextSibling,m(e,s(I,{children:"first name"}),u),m(e,s(I,{children:"last name"}),l),e})(),s(S,{space:"around",style:{width:"400px"},get children(){return[s(q,{get children(){return[s(C,{ref(e){const i=o;typeof i=="function"?i(e):o=e},id:"first_name",type:"text",label:"First name",autocomplete:"given-name",style:{width:"calc(100% - 8px)"}}),s(C,{ref(e){const i=a;typeof i=="function"?i(e):a=e},id:"last_name",type:"text",label:"Last name",autocomplete:"family-name",style:{width:"calc(100% - 8px)"}})]}}),s(M,{children:"It's recommended to use a device that you own and use frequently to create your Ciel account!"}),s(S,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[s(v,{type:"link",href:"/user/login",children:"Sign in instead"}),s(v,{ref(e){const i=r;typeof i=="function"?i(e):r=e},type:"action",function:function(){k(r,function(e,i){let u=o.children[0].children[0],f=a.children[0].children[0];[[u,o],[f,a]].forEach(function(l){/^[a-zA-Z]+$/.test(l[0].value)||(P(l[1],!1,"Can only contain letters!"),e())}),i()},function(){d.name.first=o.children[0].children[0].value,d.name.last=a.children[0].children[0].value,n("/user/register/username")})},primary:!0,children:"Next"})]}})]}})]}const ae=Object.freeze(Object.defineProperty({__proto__:null,InputFieldsContainer:q,clientDataCheck:A,nextCheck:k,redoRegister:W,default:X},Symbol.toStringTag,{value:"Module"}));export{q as I,W as a,A as b,oe as c,ae as d,re as h,ie as l,k as n,d as r,L as s};
