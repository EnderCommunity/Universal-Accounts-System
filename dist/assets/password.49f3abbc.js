import{k as v,o as x,c as n,i as _,u as b,t as d}from"./index.9b46f30d.js";import{T as C}from"./Title.a581f7e6.js";import{M as I,F as f,B as h}from"./FlexContainer.9781a1b4.js";import{I as w,N as T,s as l}from"./Notice.f53602c1.js";import{C as B}from"./CheckBox.ba0fe6f7.js";import{b as k,r as y,I as N,n as $,l as M,h as S,c as A,a as D}from"./register.547159cf.js";const P=d("<h1>Choose a password!</h1>"),z=d("<br>"),F=d("<h3>Choose a <!> for your account!</h3>"),H=d('<input id="username-hidden" type="username" style="display: none;" value="TestUsername">');function j(g){let p=v(),r,u,a,i,c,m=()=>{a.children[0].children[0].value="",i.children[0].children[0].value="",c.value=""};return x(()=>{r=k(u,"password","password_confirm"),c.value=y.username}),g.report(),[n(C,{children:"Sign Up"}),P.cloneNode(!0),z.cloneNode(!0),(()=>{const e=F.cloneNode(!0),t=e.firstChild,s=t.nextSibling;return s.nextSibling,_(e,n(I,{children:"secure password"}),s),e})(),n(f,{space:"around",style:{width:"400px"},get children(){return[(()=>{const e=H.cloneNode(!0),t=c;return typeof t=="function"?b(t,e):c=e,e})(),n(N,{get children(){return[n(w,{ref(e){const t=a;typeof t=="function"?t(e):a=e},id:"password",type:"password",label:"Password",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(w,{ref(e){const t=i;typeof t=="function"?t(e):i=e},id:"password_confirm",type:"password",label:"Confirmation",autocomplete:"new-password",style:{width:"calc(100% - 8px)"}}),n(B,{id:"showPassword",label:"Show password",style:{margin:"8px","margin-right":"auto"},checked:!1,onActive:function(){document.getElementById("password").type="text",document.getElementById("password_confirm").type="text"},onInactive:function(){document.getElementById("password").type="password",document.getElementById("password_confirm").type="password"}})]}}),n(T,{children:"The password must be at least 10 characters long, with a mix of letters and numbers! (Note that it's recommended to mix in a few special characters)"}),n(f,{space:"between",horozontal:!0,"no-grow":!0,get children(){return[n(h,{type:"action",function:function(){m(),setTimeout(function(){history.back()},1)},children:"Go back"}),n(h,{ref(e){const t=u;typeof t=="function"?t(e):u=e},type:"action",function:function(){$(u,function(e,t){let s=a.children[0].children[0],o=i.children[0].children[0];s.value.length<10||s.value.length>128?(l(a,!1,"Must be from 10 up to 128 characters long!"),o.value="",setTimeout(r,1),e()):!/[a-zA-Z]/.test(s.value)&&!/[0-9]/.test(s.value)?(l(a,!1,"Must contain letters and numbers!"),o.value="",setTimeout(r,1),e()):/[a-zA-Z]/.test(s.value)?/[0-9]/.test(s.value)?o.value!=s.value&&(l(i,!1,"Does not match the password!"),o.value="",setTimeout(r,1),o.focus(),e()):(l(a,!1,"Must contain at least one number!"),o.value="",setTimeout(r,1),e()):(l(a,!1,"Must contain at least one letter!"),o.value="",setTimeout(r,1),e()),t()},function(){M(function(){y.passwordHash=S(a.children[0].children[0].value),A(3,function(e){e?(m(),setTimeout(function(){D(p)},1)):p("/user/register/personal")})})})},primary:!0,children:"Next"})]}})]}})]}export{j as default};
